#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
把形如
  SAMPLE15_TURN_TO_IMAGES = [...]
  SAMPLE15_BLIP2 = [...]
  SAMPLE15_LLAVA = [...]
  SAMPLE15_QWEN  = [...]
的全局变量自动解析，生成：
  - events.tsv（总事件，per-turn）
  - stats_Δ.tsv（B2: 距首提 Δ 的 per-image 事件）
  - stats_k.tsv（D: 重访序号 k 的 per-image 事件）
  - stats_τ.tsv（B1: 归一化进度 τ 的 per-image 事件）

【重要约定】
- turn 使用 1-based（与你的数据一致）。
- 若某回合包含多张图（如 [1,2,4]），我们将“该回合的人类/人工 OK=0/1”
  **复制到该回合所有涉及图像**（B2/D/B1 统计都基于 per-image 事件）。
  若未来你有 per-image 的人工标注，只需在本脚本中替换 ok 的赋值即可。

用法：
    1) 将你的 SAMPLE{i}_TURN_TO_IMAGES / BLIP2 / LLAVA / QWEN 直接粘到本脚本顶部“粘贴区”
    2) python build_stats_from_samples.py --out-dir stats_from_arrays
"""

# ========= 粘贴区：把你的 SAMPLE{i}_... 变量直接粘到下面 =========
# 例子（可删）：示例 15 与 8。你可以继续粘贴 SAMPLE0、SAMPLE1、SAMPLE3、SAMPLE4……等


SAMPLE0_TURN_TO_IMAGES = [
    [3], [3], [3], [4], [4], [4], [5], [2,5], [3,4], [1,3,4], [2,5], [1,4]
]
SAMPLE0_BLIP2 = [1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0]
SAMPLE0_LLAVA = [1, 0, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1]
SAMPLE0_QWEN  = [1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1]

# ============================================================

SAMPLE1_TURN_TO_IMAGES = [
    [3],            # t1: 针对 Image3
    [3],            # t2: 针对 Image3
    [4],            # t3: 针对 Image4
    [1, 2, 3, 4],   # t4: 四图对比
    [2, 3],         # t5: Image2 与 Image3
    [1, 2, 3, 4],   # t6: 四图水体类型
    [2, 4],         # t7: Image2 与 Image4
    [1, 3],         # t8: Image1 与 Image3 的地质史
    [1, 3, 4],      # t9: Image1/3/4 的生态或文化意义
    [2, 4],         # t10: 人类活动融入 Image2 与 Image4
    [2, 3, 4],      # t11: Image2/3/4 的环境挑战
]

# 你要的 0/1 序列：人工判断“回答是否正确/到位”
SAMPLE1_BLIP2 = [0, 1, 0, 0, 1, 0, 0, 1, 1, 0, 0]
SAMPLE1_LLAVA = [1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1]
SAMPLE1_QWEN  = [1, 1, 1, 0, 1, 0, 0, 1, 1, 1, 1]

# ==== SAMPLE2 ====================================
SAMPLE2_TURN_TO_IMAGES = [
    [1],  # t1：只问 Image1
    [1],  # t2：Image1
    [1],  # t3：Image1
    [2],  # t4：Image2
    [2],  # t5：Image2
    [2],  # t6：Image2
    [3],  # t7：Image3
    [3],  # t8：Image3
    [3],  # t9：Image3
    [1,2,3],  # t10：三图共同
    [1,2,3],  # t11：三图共同
    [1,2,3],  # t12：三图共同
    [1,2,3],  # t13：三图共同
    [1,2,3],  # t14：三图共同
    [1,2,3],  # t15：三图共同
    [1,2,3],  # t16：三图共同
    [1,2,3],  # t17：三图共同
]

# 人工二值评分（1=回答正确/到位，0=错误/偏题/关键点缺失）
SAMPLE2_BLIP2 = [
    0,  # t1 环境类型答成 lake，未点出“湿地”
    0,  # t2 排布说成“右侧/毛毛虫”…跑偏
    1,  # t3 说能做篮筐/席子 ✅
    1,  # t4 识别兰花 ✅
    0,  # t5 颜色描述主色说黄，错误
    0,  # t6 基本没给到象征意义
    0,  # t7 说吃“绿色部分”，错
    1,  # t8 结构=茴香 ✅
    1,  # t9 烹饪用途 ✅
    0,  # t10 栖息地整体错配
    0,  # t11 用途比较混乱
    0,  # t12 外观比较跑偏
    0,  # t13 影响/意义不对题
    1,  # t14 情绪/意境可接受
    0,  # t15 符号意义未给
    1,  # t16 行动/活动可接受
    0,  # t17 视觉元素关系不对
]

SAMPLE2_LLAVA = [
    1,  # t1 “water with reeds” 可接受
    1,  # t2 沿水缘成排 ✅
    0,  # t3 叶用途说成染料/造纸/食物，偏题
    1,  # t4 兰花 ✅
    1,  # t5 粉紫 ✅
    1,  # t6 爱/美/热情 ✅
    0,  # t7 说“叶子可食”，错
    0,  # t8 说“绿茎+白花苞”，不符图示
    0,  # t9 误判为芦笋
    0,  # t10 “River/Lake/…” 硬填错
    0,  # t11 用途比较空
    0,  # t12 相似/差异过于空泛
    1,  # t13 讲到茴香食药用（部分到位）
    1,  # t14 情绪/意境可接受
    0,  # t15 把三图说成蒲公英，错
    1,  # t16 烹饪用途 ✅
    0,  # t17 细节不符
]

SAMPLE2_QWEN = [
    1,  # t1 直接“wetland” ✅
    1,  # t2 垂直上举 ✅
    1,  # t3 篮筐/席子 ✅
    1,  # t4 兰花 ✅
    1,  # t5 粉色+紫/黄唇瓣 ✅
    1,  # t6 美/优雅 ✅
    1,  # t7 “bulb” ✅
    1,  # t8 正确描述茴香结构 ✅
    1,  # t9 作为配料/点缀 ✅
    1,  # t10 花：森林；茴香：草地/栽培（总体可接受）
    0,  # t11 三图用途对比里第二、三图说法偏差
    1,  # t12 外观相似/差异到位
    1,  # t13 文化/经济影响可接受
    1,  # t14 情绪/意境 ✅
    1,  # t15 象征：茴香净化（可接受）
    1,  # t16 种植/采收/烹饪 ✅
    1,  # t17 关系/交互叙述可接受
]

# ====== SAMPLE 3 ======
SAMPLE3_TURN_TO_IMAGES = [
    [1], [1], [1],        # t1–t3: 只谈 Image1
    [2], [2], [2],        # t4–t6: 只谈 Image2
    [3], [3], [3],        # t7–t9: 只谈 Image3
    [4], [4], [4],        # t10–t12: 只谈 Image4
    [1,3,4],              # t13: 比较 1,3,4
    [1,2,3],              # t14: 分析 1,2,3
    [3,4],                # t15: 行为 3,4
    [1,2,3],              # t16: 符号含义 1,2,3
    [1,2,4],              # t17: 社会结构 1,2,4
    [2,4],                # t18: 文化重要性 2,4
    [3,4],                # t19: 筑巢习性 3,4
    [3,4],                # t20: 情绪表达 3,4
]

SAMPLE3_BLIP2 = [
    1, 0, 1,   # t1–t3
    1, 0, 1,   # t4–t6
    0, 1, 0,   # t7–t9
    0, 0, 0,   # t10–t12
    0, 0, 0,   # t13–t15
    0, 0, 1,   # t16–t18
    0, 0       # t19–t20
]

SAMPLE3_LLAVA = [
    1, 0, 1,   # t1–t3
    1, 1, 1,   # t4–t6
    1, 1, 0,   # t7–t9
    0, 1, 1,   # t10–t12
    0, 0, 0,   # t13–t15
    1, 1, 1,   # t16–t18
    0, 1       # t19–t20
]

SAMPLE3_QWEN = [
    1, 0, 1,   # t1–t3
    1, 1, 1,   # t4–t6
    1, 0, 1,   # t7–t9
    1, 1, 0,   # t10–t12
    0, 0, 1,   # t13–t15
    0, 1, 1,   # t16–t18
    1, 1       # t19–t20
]

SAMPLE4_TURN_TO_IMAGES = [
    [1],      # t1: 只问 Image1（通心粉/短通）
    [1],      # t2: Image1
    [1],      # t3: Image1
    [2],      # t4: Image2（咖啡）
    [2],      # t5: Image2
    [2],      # t6: Image2
    [1],      # t7: Image1
    [1, 2],   # t8: 对比 Image1 与 Image2
    [1, 2],   # t9: 对比 Image1 与 Image2 纹理
    [1, 2],   # t10: 对比两者的来源/文化
    [1, 2],   # t11: 两者在餐食中的位置
]

SAMPLE4_BLIP2 = [
    0,  # t1 说“圆/方/三角”→与通心粉形状不符
    1,  # t2 提到面粉/鸡蛋等原料（虽啰嗦，但要点覆盖）
    0,  # t3 过于空泛，未给出文化脉络
    1,  # t4 正确描述有奶泡的咖啡外观
    0,  # t5 混用 Image1/2 语境，没点题“氛围”
    0,  # t6 未给出意式咖啡传统/历史
    0,  # t7 回答“pasta”不是原料
    0,  # t8 没有正确对比通心粉 vs 咖啡的制作
    0,  # t9 把两图都当“泡沫”比纹理，方向错
    0,  # t10 没覆盖两者来源/文化
    0,  # t11 把两者都归早餐不当
]

SAMPLE4_LLAVA = [
    0,  # t1 只答“Pasta”，未描述“形状”
    0,  # t2 仍答“Pasta”，未给出原料
    1,  # t3 给出“全球主食/文化”要点
    1,  # t4 正确描述奶泡外观
    1,  # t5 “温暖/舒适”氛围到点
    1,  # t6 指向拿铁/意式系（虽截断，但到点）
    0,  # t7 仍答“Pasta”，非原料
    0,  # t8 把两图都当咖啡处理，未对比制作
    0,  # t9 把 Image1 当“泡沫”比纹理，方向错
    0,  # t10 没同时覆盖两者文化来源
    0,  # t11 归入早餐，不当
]

SAMPLE4_QWEN = [
    1,  # t1 指出“macaroni”类型，命中形状类别
    1,  # t2 小麦粉
    1,  # t3 意面与意大利传统
    1,  # t4 奶泡细节到位
    1,  # t5 氛围到点
    1,  # t6 cappuccino/意式传统
    1,  # t7 小麦粉
    0,  # t8 把两者都当咖啡的做法，未对比通心粉与咖啡
    0,  # t9 仍以“奶沫纹理”作比较，忽略通心粉的干硬质地
    0,  # t10 只谈咖啡意式来源，未覆盖面食→按0
    0,  # t11 仍给“早餐”，不当
]

# ============================================================
SAMPLE5_TURN_TO_IMAGES = [
    [1], [1], [1], [2], [2], [2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2]
]
SAMPLE5_BLIP2 = [1,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0]
SAMPLE5_LLAVA = [1,1,1,1,1,1,0,0,1,0,1,1,1,0,0,1]
SAMPLE5_QWEN  = [1,1,0,1,1,1,0,0,1,0,1,1,1,0,0,1]

# ============================================================


SAMPLE6_TURN_TO_IMAGES = [
    [1], [1], [1],
    [2], [2], [2],
    [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2]
]

SAMPLE6_BLIP2 = [1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
SAMPLE6_LLAVA = [1, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1]
SAMPLE6_QWEN  = [1, 1, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0]

# ============================================================

SAMPLE7_TURN_TO_IMAGES = [
    [1], [1], [1],
    [2], [2], [2],
    [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2]
]

SAMPLE7_BLIP2 = [0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
SAMPLE7_LLAVA = [1, 1, 1, 1, 1, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0]
SAMPLE7_QWEN  = [1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 0, 0, 0, 1, 1, 0]

# ============================================================
SAMPLE8_TURN_TO_IMAGES = [
    [1], [1], [1],
    [2], [2], [2],
    [3], [3], [3],
    [4], [4], [4],
    [1,4], [2,3], [1,2,4], [3,4], [1,2,4], [1,2], [2,3], [1,3,4]
]

SAMPLE8_BLIP2 = [0,0,1,1,1,1,1,0,1,0,1,0,0,0,0,0,0,0,0,0]
SAMPLE8_LLAVA = [1,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,0,1]
SAMPLE8_QWEN  = [1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,1]
# ============================================================
SAMPLE9_TURN_TO_IMAGES = [
    [1], [1], [1],
    [2], [2], [2],
    [1,2], [1,2]
]

SAMPLE9_BLIP2 = [1, 1, 1, 1, 1, 1, 0, 1]
SAMPLE9_LLAVA = [1, 1, 1, 1, 1, 1, 0, 1]
SAMPLE9_QWEN  = [1, 1, 1, 1, 1, 1, 0, 0]
# ============================================================

SAMPLE10_TURN_TO_IMAGES = [
    [1], [1], [1],
    [2], [2], [2],
    [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2]
]

SAMPLE10_BLIP2 = [1,1,1,1,1,0,0,0,0,0,1,0,1,1,0,0]
SAMPLE10_LLAVA = [1,1,1,1,0,1,0,0,1,1,1,0,1,1,0,1]
SAMPLE10_QWEN  = [1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1]
# ============================================================

SAMPLE11_TURN_TO_IMAGES = [
    [1], [1], [1],
    [2], [2], [2],
    [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2]
]

SAMPLE11_BLIP2 = [1,0,0,0,0,0,0,1,0,0,0,0,1,1,1,0]
SAMPLE11_LLAVA = [1,0,1,1,1,0,0,0,0,0,0,0,0,1,1,0]
SAMPLE11_QWEN  = [1,0,1,1,1,1,0,1,1,0,1,0,0,1,1,0]
# ============================================================

SAMPLE12_TURN_TO_IMAGES = [
    [1], [1], [1],
    [2], [2], [2],
    [1,2], [1], [1,2],
    [1,2], [1,2], [1,2],
    [1], [1,2], [1,2]
]

SAMPLE12_BLIP2 = [1,1,1,1,0,0,0,0,0,0,0,0,1,0,0]
SAMPLE12_LLAVA = [1,0,1,1,0,0,0,1,0,0,0,0,1,0,0]
SAMPLE12_QWEN  = [1,1,1,1,0,1,0,1,0,0,0,0,1,0,0]
# ============================================================
SAMPLE13_TURN_TO_IMAGES = [
    [1], [1], [1],
    [2], [2], [2],
    [3], [3], [3],
    [4], [4], [4],
    [3,4], [1,4], [1,4], [2,3,4], [1,4], [1,2,3]
]

SAMPLE13_BLIP2 = [1,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0]
SAMPLE13_LLAVA = [0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0]
SAMPLE13_QWEN  = [1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,0,0]
# ============================================================
SAMPLE14_TURN_TO_IMAGES = [
    [1], [1], [1],
    [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2]
]

SAMPLE14_BLIP2 = [0,1,0,0,0,0,1,0,0,0,0,0,1]
SAMPLE14_LLAVA = [1,1,1,0,0,0,1,0,0,0,1,1,1]
SAMPLE14_QWEN  = [1,1,1,0,0,0,1,0,0,0,1,1,1]
# ============================================================
SAMPLE15_TURN_TO_IMAGES = [
    [1], [1], [1], [2], [2], [2], [3], [3], [3], [4],
    [4], [4], [1,2,3,4], [2,4], [1,3,4], [1,4], [1,2], [3,4], [2,4], [1,3]
]
SAMPLE15_BLIP2 = [0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0]
SAMPLE15_LLAVA = [1,1,1,1,1,1,0,0,1,1,0,1,0,0,0,1,1,0,0,1]
SAMPLE15_QWEN  = [0,1,1,1,1,1,0,0,0,0,0,1,1,0,0,0,1,0,1,0]
# ============================================================
SAMPLE16_TURN_TO_IMAGES = [
[1], [1], [1], [2], [2], [2], [1,2], [1,2], [1,2], [1,2],
[1,2], [1,2], [1,2], [1,2], [1,2], [1,2]
]
SAMPLE16_BLIP2 = [0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,0]
SAMPLE16_LLAVA = [1,1,1,1,1,1,1,1,0,1,1,1,1,1,0,0]
SAMPLE16_QWEN = [1,1,1,1,1,1,1,1,0,1,1,1,0,1,0,0]

# ============================================================
SAMPLE17_TURN_TO_IMAGES = [
[1], [1], [1], [2], [2], [2],
[1,2], [1,2], [1,2], [1,2], [1,2], [1,2],
[1,2], [1,2], [1,2], [1,2], [1,2], [1,2]
]
SAMPLE17_BLIP2 = [1,0,1,1,1,1,0,0,0,0,1,0,0,0,0,1,1,1]
SAMPLE17_LLAVA = [1,1,1,0,1,1,0,1,1,0,1,1,0,0,1,1,1,1]
SAMPLE17_QWEN = [1,1,1,1,1,1,0,0,0,0,1,1,0,1,1,1,1,1]
# ============================================================
SAMPLE18_TURN_TO_IMAGES = [
[1], [1], [1], 
[2], [2], [2], 
[3], [3], [3],
[1,2,3], [1,2,3], [1,2,3], [1,2,3], [1,2,3], [1,2,3], [1,2,3] 
]

SAMPLE18_BLIP2 = [0,0,0, 0,0,0, 0,1,1, 0,0,0,0,0,0,0]
SAMPLE18_LLAVA = [1,0,1, 1,1,1, 1,1,1, 0,1,0,0,1,0,0]
SAMPLE18_QWEN = [1,0,0, 0,1,1, 1,1,1, 0,1,0,0,1,0,0]
# ============================================================
SAMPLE19_TURN_TO_IMAGES = [
[1,2], [1,2], [1,2], [1,2], [1,2],
[1,2], [1,2], [1,2], [1,2], [1,2]
]
SAMPLE19_BLIP2 = [0,0,1,0,0,0,0,1,0,0]
SAMPLE19_LLAVA = [0,0,1,0,1,0,1,0,0,1]
SAMPLE19_QWEN = [0,0,1,1,1,1,1,0,1,0]
# ============================================================
SAMPLE20_TURN_TO_IMAGES = [
    [1], [1], [1],    # 1–3: Image1
    [2], [2], [2],    # 4–6: Image2
    [3], [3], [3],    # 7–9: Image3
    [1,2,3],          # 10
    [1,2,3],          # 11
    [1,2,3],          # 12
    [1,2,3],          # 13
    [1,2,3],          # 14
    [1,2,3],          # 15
    [1,2,3],          # 16
    [1,2,3],          # 17
    [1,3],            # 18
    [1,2,3]           # 19
]

SAMPLE20_BLIP2 = [
    0, 0, 0,  # 1–3
    1, 0, 0,  # 4–6
    1, 0, 1,  # 7–9
    0, 0, 0,  # 10–12
    0, 0, 1,  # 13–15
    0, 1, 0,  # 16–18
    1         # 19
]

SAMPLE20_LLAVA = [
    0, 1, 1,  # 1–3
    1, 1, 1,  # 4–6
    0, 1, 1,  # 7–9
    0, 1, 0,  # 10–12
    0, 1, 0,  # 13–15
    1, 1, 0,  # 16–18
    0         # 19
]

SAMPLE20_QWEN = [
    1, 1, 0,  # 1–3
    1, 0, 1,  # 4–6
    1, 1, 1,  # 7–9
    0, 0, 0,  # 10–12
    0, 0, 0,  # 13–15
    1, 1, 0,  # 16–18
    0         # 19
]
# ============================================================
SAMPLE21_TURN_TO_IMAGES = [
    [1], [1], [1], [2], [2], [2],
    [1,2], [1,2], [1,2], [1,2], [1,2],
    [1,2], [1,2], [1,2], [1,2], [1,2]
]

SAMPLE21_BLIP2 = [0,0,1,1,0,0,0,0,0,0,0,1,0,0,0,1]
SAMPLE21_LLAVA = [1,1,1,1,1,1,0,0,0,0,0,1,0,0,0,1]
SAMPLE21_QWEN  = [1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1]
# ============================================================
SAMPLE22_TURN_TO_IMAGES = [
    [1], [1], [1], [2], [2], [2],
    [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2]
]

SAMPLE22_BLIP2 = [0,0,0,1,1,0,0,0,0,1,1,0,1,0,1,1]
SAMPLE22_LLAVA = [0,0,0,1,0,1,0,0,0,1,0,0,1,0,0,1]
SAMPLE22_QWEN  = [0,1,1,1,1,1,0,0,0,1,0,0,1,0,0,1]
# ============================================================
SAMPLE23_TURN_TO_IMAGES = [
    [1], [1], [1],            # 1–3: Image1（野猫）
    [2], [2], [2],            # 4–6: Image2（犬）
    [3], [3], [3],            # 7–9: Image3（马）
    [1,2,3], [1,2,3], [1,2,3],# 10–12: 比较三图
    [1,2,3], [1,2,3], [1,2,3],# 13–15
    [1,2,3], [1,2,3], [1,2,3],# 16–18
    [1,2,3]                   # 19
]

SAMPLE23_BLIP2 = [0,1,0,0,1,0,1,1,0,0,0,0,0,0,1,0,0,0,0]
SAMPLE23_LLAVA = [1,1,1,0,1,0,1,1,1,0,0,0,0,0,1,0,0,1,0]
SAMPLE23_QWEN  = [1,1,1,1,1,1,1,1,1,0,0,0,0,0,1,0,1,1,0]

# ============================================================
SAMPLE24_TURN_TO_IMAGES = [
    [1,2], [1,2], [1,2], [1,2], [1,2],
    [1,2], [1,2], [1,2], [1,2], [1,2]
]

SAMPLE24_BLIP2 = [0,0,0,0,0,0,0,1,0,1]
SAMPLE24_LLAVA = [0,0,1,0,0,0,0,1,1,0]
SAMPLE24_QWEN  = [0,0,1,0,0,0,0,1,1,1]
# ============================================================
SAMPLE25_TURN_TO_IMAGES = [
    [1], [2], [2], [2], [3], [3], [3], [1,2,3]
]
SAMPLE25_BLIP2 = [0,0,0,0,0,0,0,0]
SAMPLE25_LLAVA = [0,1,0,1,1,1,0,1]
SAMPLE25_QWEN  = [1,1,1,1,1,0,1,1]
# ============================================================
SAMPLE26_TURN_TO_IMAGES = [
    [1], [1], [1], [2], [2], [2], [1,2,3], [1,2,3], [1,2,3], [1,2,3], [1,2,3], [1,2,3], [1,2,3]
]

SAMPLE26_BLIP2 = [0,1,0,1,1,0,0,0,0,0,0,0,0]
SAMPLE26_LLAVA = [0,1,1,0,1,1,0,0,0,0,0,0,0]
SAMPLE26_QWEN  = [1,1,1,1,1,1,0,0,0,0,0,0,0]
# ============================================================
SAMPLE27_TURN_TO_IMAGES = [
    [1], [1], [1], [2], [2], [2],
    [1,2], [1,2], [1,2], [1,2], [1,2], [1,2],
    [1,2], [1,2], [1,2], [1,2], [1,2], [1,2]
]

SAMPLE27_BLIP2 = [0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,1]
SAMPLE27_LLAVA = [1,0,0,1,1,1,0,0,0,0,1,0,1,0,0,0,0,1]
SAMPLE27_QWEN  = [1,0,1,1,1,1,0,0,0,0,1,0,1,0,0,0,0,1]

# ============================================================
SAMPLE28_TURN_TO_IMAGES = [
    [1], [1], [1],        # 1–3
    [2], [2], [2],        # 4–6
    [3], [3], [3],        # 7–9
    [4], [4], [4],        # 10–12
    [5], [5], [5],        # 13–15
    [1,3],                # 16
    [2,4,5],              # 17
    [2,3,4],              # 18
    [3,4,5],              # 19
    [1,5]                 # 20
]
SAMPLE28_BLIP2 = [
    0,0,0,  0,1,0,  0,1,1,  1,0,0,  1,0,1,  0,0,0,  0,0
]

SAMPLE28_LLAVA = [
    0,0,0,  0,1,1,  0,1,1,  1,0,1,  1,1,1,  0,0,0,  1,0
]

SAMPLE28_QWEN = [
    1,1,1,  1,1,0,  1,1,1,  1,1,1,  1,1,1,  0,0,1,  1,0
]
# ============================================================
SAMPLE29_TURN_TO_IMAGES = [
    [1,2], [1,2], [1,2], [1,2], [1,2],
    [1,2], [1,2], [1,2], [1,2], [1,2]
]

SAMPLE29_BLIP2 = [1, 1, 0, 1, 1, 0, 1, 0, 0, 0]
SAMPLE29_LLAVA = [0, 1, 0, 1, 1, 1, 1, 0, 0, 0]
SAMPLE29_QWEN  = [0, 1, 0, 1, 1, 1, 1, 1, 1, 1]
# ============================================================
SAMPLE30_TURN_TO_IMAGES = [
    [1],      # 1
    [1],      # 2
    [1],      # 3
    [2],      # 4
    [3],      # 5
    [3],      # 6
    [3],      # 7
    [1,2,3],  # 8
    [2,3],    # 9
    [1,3],    # 10
    [1,2],    # 11
    [1,2,3],  # 12
    [2,3]     # 13
]

SAMPLE30_BLIP2 = [1,1,1,0,1,0,0,0,0,0,0,0,0]
SAMPLE30_LLAVA = [1,1,1,1,1,1,1,1,0,0,0,0,1]
SAMPLE30_QWEN  = [0,1,1,0,1,1,1,0,1,0,1,1,1]
# ============================================================
SAMPLE31_TURN_TO_IMAGES = [
[1,2], [2], [2], [3], [3], [3], [4], [4], [4], [5], [5], [5], [1,5], [2,5], [3,4,5], [1,3,5], [3,4]
]

SAMPLE31_BLIP2 = [1,0,1,0,1,1,1,1,0,0,0,1,0,0,0,0,0]
SAMPLE31_LLAVA = [1,1,1,1,1,1,1,1,1,1,0,1,0,0,0,0,0]
SAMPLE31_QWEN = [1,1,1,0,1,1,1,1,1,1,0,1,0,0,0,0,1]
# ============================================================
SAMPLE32_TURN_TO_IMAGES = [
[1], [1], [1], [2], [2], [2],[3], [3], [3], [4], [4], [4], 
[5], [5], [5], [1,2,5], [2,3,4], [2], [1,3,5], [3,4,5] 
]

SAMPLE32_BLIP2 = [
0,1,0,1,0,1,1,0,1,0,0,1,1,1,0,0,0,1,0,0
]

SAMPLE32_LLAVA = [
1,1,1,1,0,1,1,1,1,1,1,1,1,1,0,1,1,1,0,0
]

SAMPLE32_QWEN = [
1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,1,0,1
]
# ============================================================
SAMPLE33_TURN_TO_IMAGES = [
    [1],      # 1
    [1],      # 2
    [1],      # 3
    [2],      # 4
    [2],      # 5
    [2],      # 6
    [3],      # 7
    [3],      # 8
    [3],      # 9
    [4],      # 10
    [4],      # 11
    [4],      # 12
    [1,2,3,4],# 13
    [1,4],    # 14
    [2,3,4],  # 15
    [1,2,3,4],# 16
    [1,2],    # 17
    [1,2,3,4],# 18
    [2,3],    # 19
    [1,4]     # 20
]

SAMPLE33_BLIP2 = [
    1,1,1,  # 1–3
    1,1,1,  # 4–6
    0,0,0,  # 7–9
    0,0,1,  # 10–12
    0,0,0,  # 13–15
    0,0,0,  # 16–18
    0,0     # 19–20
]

SAMPLE33_LLAVA = [
    0,1,1,  # 1–3
    1,0,1,  # 4–6
    0,1,0,  # 7–9
    0,0,0,  # 10–12
    0,1,0,  # 13–15
    0,0,1,  # 16–18
    1,0     # 19–20
]

SAMPLE33_QWEN = [
    1,1,1,  # 1–3
    1,1,1,  # 4–6
    1,1,1,  # 7–9
    0,0,1,  # 10–12
    0,1,0,  # 13–15
    0,0,0,  # 16–18
    1,0     # 19–20
]
# ============================================================
SAMPLE34_TURN_TO_IMAGES = [
[1,2], [1,2], [1,2], [1,2], [1,2],
[1,2], [1,2], [1,2], [1,2], [1,2]
]

SAMPLE34_BLIP2 = [0,0,0,0,0,0,0,0,0,0]
SAMPLE34_LLAVA = [0,0,0,0,0,1,1,1,1,0]
SAMPLE34_QWEN = [0,0,0,0,0,1,1,0,0,0]
# ============================================================
SAMPLE35_TURN_TO_IMAGES = [
    [1], [1],        # 1–2 只用 Image1
    [2], [2], [2],   # 3–5 只用 Image2
    [1,2], [1,2], [1,2], [1,2], [1,2],
    [1,2], [1,2], [1,2], [1,2], [1,2]  # 6–15 同时涉及两图
]

SAMPLE35_BLIP2 = [0,1,0,0,1,0,0,0,0,0,0,0,0,0,0]
SAMPLE35_LLAVA = [1,1,1,1,0,0,0,0,1,1,0,0,0,0,0]
SAMPLE35_QWEN  = [1,1,1,1,1,0,0,0,0,0,0,0,0,0,0]

# ============================================================
SAMPLE36_TURN_TO_IMAGES = [
    [1,2], [1,2], [1,2], [1,2], [1,2],
    [1,2], [1,2], [1,2], [1,2], [1,2]
]

SAMPLE36_BLIP2 = [0,0,0,0,0,0,0,0,0,0]
SAMPLE36_LLAVA = [0,0,0,1,1,0,1,0,1,0]
SAMPLE36_QWEN  = [0,0,0,1,1,0,1,0,1,0]

# ============================================================
SAMPLE37_TURN_TO_IMAGES = [
[1], [1], [1], [2], [3],
[3], [3], [4], [4], [4],
[5], [5], [5], [1,2,4], [1,3],
[2,4,5], [3,5], [2,4], [1,5], [1,3,5]
]

SAMPLE37_BLIP2 = [1,0,1,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0]
SAMPLE37_LLAVA = [1,1,1,1,0,1,1,1,1,1,1,1,1,0,1,1,0,1,0,0]
SAMPLE37_QWEN = [1,1,1,1,0,0,1,1,1,1,1,1,1,0,1,1,1,1,0,1]

# ============================================================
SAMPLE38_TURN_TO_IMAGES = [
    [1,2], [1,2], [1,2], [1,2], [1,2],
    [1,2], [1,2], [1,2], [1,2], [1,2]
]

SAMPLE38_BLIP2 = [0,0,0,1,0,0,0,0,0,0]
SAMPLE38_LLAVA = [0,0,1,0,0,1,0,1,0,1]
SAMPLE38_QWEN  = [0,0,1,0,1,0,0,1,1,1]
# ============================================================
SAMPLE39_TURN_TO_IMAGES = [
[1], [1], [1],
[2], [2], [2],
[3], [3], [3],
[4], [4], [4],
[5], [5], [5],
[2,3,4], [1,3,5], [1,3], [2,4], [2,4,5]
]

SAMPLE39_BLIP2 = [1,0,0,0,1,1,1,0,0,1,0,1,0,0,0,0,0,0,0,0]
SAMPLE39_LLAVA = [1,0,0,0,1,1,1,1,0,1,1,1,0,1,1,0,1,1,0,0]
SAMPLE39_QWEN = [1,1,0,0,1,1,1,1,1,1,1,1,0,1,1,0,0,1,0,1]

# ============================================================
SAMPLE40_TURN_TO_IMAGES = [
[1], [1], [2], [2], [2],
[3], [3], [3], [4], [4],
[4], [5], [5], [5], [2,3,4,5],
[1,4], [1,2,4,5], [1,3,4,5], [2,4], [2,4,5]
]

SAMPLE40_BLIP2 = [0,0,1,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0]
SAMPLE40_LLAVA = [1,0,1,1,0,0,0,1,1,0,0,1,0,1,0,0,1,0,0,0]
SAMPLE40_QWEN = [1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,0,0,1]
# ============================================================
SAMPLE41_TURN_TO_IMAGES = [
[1], [1], [1],
[2], [2], [2],
[1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2]
]

SAMPLE41_BLIP2 = [0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
SAMPLE41_LLAVA = [1,1,1,0,0,1,0,0,0,0,1,0,0,1,0,1]
SAMPLE41_QWEN = [1,1,1,1,1,1,0,1,0,0,1,0,0,0,0,0]
# ============================================================
SAMPLE42_TURN_TO_IMAGES = [
[1], [1], [1], [2],
[1,2], [1,2], [1,2], [1,2], [1,2], [1,2],
[1,2], [1,2], [1,2], [1,2], [1,2],
[1,2], [1,2], [1,2], [1,2]
]

SAMPLE42_BLIP2 = [0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
SAMPLE42_LLAVA = [0,0,1,1,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0]
SAMPLE42_QWEN = [1,1,1,1,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0]
# ============================================================
SAMPLE43_TURN_TO_IMAGES = [
[1], [1], [1], [2], [2], [2],
[1,2], [1,2], [1,2], [1,2], [1,2], [1,2],
[1,2], [1,2], [1,2], [1,2]
]

SAMPLE43_BLIP2 = [0,1,0,0,0,0,0,0,1,0,0,0,0,1,0,0]
SAMPLE43_LLAVA = [1,1,0,0,0,1,0,1,0,0,0,0,0,0,0,0]
SAMPLE43_QWEN = [1,1,1,0,1,1,1,1,1,0,0,1,0,1,1,1]
# ============================================================
SAMPLE44_TURN_TO_IMAGES = [
[1,2,3], [1,2,3], [1,2,3], [1,2,3], [1,2,3],
[1,2,3], [1,2,3], [1,2,3], [1,2,3], [1,2,3]
]

SAMPLE44_BLIP2 = [0,0,0,0,0,0,0,0,0,1]
SAMPLE44_LLAVA = [0,1,0,0,0,1,1,0,0,1]
SAMPLE44_QWEN = [1,0,0,0,0,0,1,0,1,0]
# ============================================================
SAMPLE45_TURN_TO_IMAGES = [
[1], [1], [1],
[2], [2], [2],
[3], [3], [3],
[4], [4], [4],
[1,2,3,4]
]

SAMPLE45_BLIP2 = [1,1,1,1,0,0,1,1,0,0,0,0,0]
SAMPLE45_LLAVA = [1,1,1,1,1,1,1,1,0,1,0,1,0]
SAMPLE45_QWEN = [1,1,1,1,1,1,1,1,1,1,1,1,0]
# ============================================================
SAMPLE46_TURN_TO_IMAGES = [
[1,2,3,4],
[1,2,3,4],
[1,2,3,4],
[1,2,3,4],
[1,2,3,4]
]

SAMPLE46_BLIP2 = [0,0,0,0,0]
SAMPLE46_LLAVA = [0,0,0,1,0]
SAMPLE46_QWEN = [0,0,0,1,0]
# ============================================================
SAMPLE47_TURN_TO_IMAGES = [
[1], [1], [1],
[2], [2], [2],
[1,2], [1,2], [1,2], [1,2]
]

SAMPLE47_BLIP2 = [0,0,0,0,0,0,1,0,0,0]
SAMPLE47_LLAVA = [0,1,0,1,1,0,1,1,0,0]
SAMPLE47_QWEN = [0,1,1,1,1,1,1,1,0,1]
# ============================================================
SAMPLE48_TURN_TO_IMAGES = [
[1], [1], [1],
[2], [2], [2],
[3], [3], [3],
[1,2,3], [1,2,3], [1,2,3], [1,2,3], [1,2,3],
[1,2,3], [1,2,3], [1,2,3], [1,2,3], [1,2,3]
]

SAMPLE48_BLIP2 = [0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
SAMPLE48_LLAVA = [1,1,1,1,1,1,0,1,0,1,0,1,0,0,0,0,0,0,1]
SAMPLE48_QWEN = [1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,0,0,0,1]
# ============================================================
SAMPLE49_TURN_TO_IMAGES = [
    [1],[1],[1],
    [2],[2],[2],
    [3],[3],[3],
    [4],[4],[4],
    [1,2,3,4],
    [1,2],
    [1,3,4],
    [1,2,3],
    [2,4],
    [1,2],
    [2,4],
    [1,3]
]

SAMPLE49_BLIP2 = [1,0,1, 0,0,0, 0,0,0, 0,0,1, 0,0,0, 0,0,0, 0,0]

SAMPLE49_LLAVA  = [0,1,1, 1,1,0, 1,0,1, 1,1,1, 0,1,0, 0,1,1, 1,0]

SAMPLE49_QWEN   = [1,1,1, 1,1,1, 1,1,1, 1,0,1, 0,1,0, 1,1,0, 1,0]
# ============================================================
SAMPLE50_TURN_TO_IMAGES = [
[1,2], [1,2], [1,2], [1,2], [1,2],
[1,2], [1,2], [1,2], [1,2], [1,2]
]

SAMPLE50_BLIP2 = [0,0,0,0,1,0,0,0,0,1]
SAMPLE50_LLAVA = [0,0,1,1,1,0,1,0,1,1]
SAMPLE50_QWEN = [0,0,1,1,1,0,1,1,1,0]

# ============================================================

SAMPLE51_TURN_TO_IMAGES = [
  [1], [1], [1],
  [2], [2], [2],
  [1,2], [1,2], [1,2], [1,2],
  [1,2], [1,2], [1,2], [1,2],
  [1,2], [1,2]
]

SAMPLE51_BLIP2 = [0,0,0,1,0,1,0,0,0,0,0,0,1,0,0,0]
SAMPLE51_LLAVA = [1,0,1,1,0,1,0,0,0,0,0,0,1,0,0,0]
SAMPLE51_QWEN  = [1,1,1,1,0,1,0,0,1,0,0,1,1,0,0,1]
# ============================================================
SAMPLE52_TURN_TO_IMAGES = [
[1], [1], [1],
[2],
[1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2]
]

SAMPLE52_BLIP2 = [1,1,0,1,0,0,0,0,0,1,0,0,0,0]
SAMPLE52_LLAVA = [1,0,0,1,0,0,0,1,1,1,0,0,0,0]
SAMPLE52_QWEN = [1,0,1,1,0,0,0,0,0,1,0,0,0,0]
# ============================================================
SAMPLE53_TURN_TO_IMAGES = [
  [1,2], [1,2], [1,2], [1,2], [1,2],
  [1,2], [1,2], [1,2], [1,2], [1,2]
]

SAMPLE53_BLIP2 = [0,0,1,0,0,1,0,0,1,1]
SAMPLE53_LLAVA = [0,0,0,1,1,1,1,0,1,0]
SAMPLE53_QWEN  = [1,0,1,1,1,1,0,1,1,1]
# ============================================================
SAMPLE54_TURN_TO_IMAGES = [
[1], [1], [1],
[2], [2], [2],
[1,2], [1,2], [1,2],
[1,2], [1,2], [1,2],
[1,2], [1,2], [1,2]
]

SAMPLE54_BLIP2 = [0,0,0,0,0,0,0,0,0,0,0,1,0,0,0]
SAMPLE54_LLAVA = [1,1,1,1,1,1,0,0,0,0,1,0,0,0,0]
SAMPLE54_QWEN = [1,1,1,1,1,1,0,0,1,0,1,0,0,1,0]
# ============================================================
SAMPLE55_TURN_TO_IMAGES = [
[1], [1], [1],
[2], [2], [2],
[3], [3], [3],
[1,2,3], [1,2,3], [1,2,3], [1,2,3], [1,2,3],
[1,2,3], [1,2,3], [1,2,3], [1,2,3]
]

SAMPLE55_BLIP2 = [0,1,0,1,1,0,0,1,0,0,0,0,0,1,0,0,1,0]
SAMPLE55_LLAVA = [1,1,1,1,1,0,1,1,1,0,0,0,1,1,0,1,1,1]
SAMPLE55_QWEN = [1,0,1,1,1,0,1,1,1,0,0,0,1,1,0,1,1,0]
# ============================================================
SAMPLE56_TURN_TO_IMAGES = [
[1], [1], [1],
[2], [2], [2],
[3], [3], [3],
[4], [4], [4],
[5], [5], [5],
[1,3,5], [2,4],
[1,2,3,4,5],
[1,2,5],
[3,4]
]

SAMPLE56_BLIP2 = [1,0,1,0,1,0,1,0,1,0,1,0,0,0,1,0,0,0,0,0]
SAMPLE56_LLAVA = [1,1,1,1,1,1,0,1,1,0,1,1,1,1,1,0,0,1,1,0]
SAMPLE56_QWEN = [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]
# ============================================================
SAMPLE57_TURN_TO_IMAGES = [
[1], [1], [1],
[2], [2], [2],
[3], [3], [3],
[2,3], [2,3], [1,2,3]
]

SAMPLE57_BLIP2 = [1,1,0,1,1,1,1,1,1,0,0,1]
SAMPLE57_LLAVA = [1,1,0,1,1,1,1,0,1,0,1,1]
SAMPLE57_QWEN = [1,1,0,1,1,1,1,1,1,0,1,0]
# ============================================================
SAMPLE58_TURN_TO_IMAGES = [
[1], [1], [1],
[2], [2], [2],
[3], [3], [3],
[4], [4], [4],
[1,2,3,4],
[2,3],
[1,2,3,4],
[1,2,3,4],
[1,2,3,4],
[1,4],
[2,3],
[1,4]
]

SAMPLE58_BLIP2 = [0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0]
SAMPLE58_LLAVA = [1,1,1,1,0,1,0,1,1,1,1,1,0,0,0,0,1,1,1,1]
SAMPLE58_QWEN = [0,0,1,1,1,0,0,0,1,1,1,1,0,0,0,1,1,1,1,1]

# ==========================================================
SAMPLE59_TURN_TO_IMAGES = [
[1], [1], [1],
[2], [2], [2],
[1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2]
]

SAMPLE59_BLIP2 = [0,1,1,0,1,1,0,0,0,1,0,0,0,0,1,0]
SAMPLE59_LLAVA = [1,1,1,1,1,1,0,0,0,1,1,1,1,0,1,0]
SAMPLE59_QWEN = [1,1,1,0,1,1,1,0,1,1,1,1,0,0,1,1]
# ==========================================================
SAMPLE60_TURN_TO_IMAGES = [
[1],[1],[1],
[2],[2],[2],
[1,2],[1,2],[1,2],
[1,2],[1,2],[1,2],
[1,2],[1,2],[1,2],[1,2]
]

SAMPLE60_BLIP2 = [0,1,0,0,0,0,0,0,1,0,1,1,0,1,0,1]
SAMPLE60_LLAVA = [1,1,1,1,1,1,0,1,1,0,1,1,0,1,1,1]
SAMPLE60_QWEN = [1,1,1,1,1,1,0,1,1,1,1,1,0,1,1,1]
# ==========================================================
SAMPLE61_TURN_TO_IMAGES = [
[1], [1], [1],
[2], [2], [2],
[1,2], [1,2], [1,2],
[1,2], [1,2], [1,2],
[1,2], [1,2], [1,2],
[1,2]
]

SAMPLE61_BLIP2 = [0,0,1,1,0,0,0,0,1,0,0,1,0,1,0,0]
SAMPLE61_LLAVA = [0,1,0,1,1,0,1,0,1,0,0,1,0,1,0,1]
SAMPLE61_QWEN = [0,1,0,1,1,0,1,0,1,0,0,1,1,1,0,1]
# ==========================================================
SAMPLE62_TURN_TO_IMAGES = [
[1,3],
[2,4],
[1,2,3,4],
[1,2,3,4],
[1,2,3,4],
[1,2,3,4],
[2,4],
[1,2,3,4]
]

SAMPLE62_BLIP2 = [0,0,0,0,0,0,0,0]
SAMPLE62_LLAVA = [1,1,0,1,1,1,1,1]
SAMPLE62_QWEN = [1,0,0,0,1,1,1,1]
# ==========================================================
SAMPLE63_TURN_TO_IMAGES = [
[1], [1], [1],
[2], [2], [2],
[1,2], [1,2], [1,2], [1,2],
[1,2], [1], [1,2], [1,2], [1,2], [1,2]
]

SAMPLE63_BLIP2 = [0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0]
SAMPLE63_LLAVA = [1,1,1,1,1,1,1,1,0,0,1,1,0,0,0,0]
SAMPLE63_QWEN = [1,1,1,1,1,1,0,1,0,0,1,1,0,0,0,1]
# ==========================================================
SAMPLE64_TURN_TO_IMAGES = [
[1,2,5],
[3,4],
[2,5],
[3,4],
[1,3,4],
[2,5],
[1,5]
]

SAMPLE64_BLIP2 = [0,0,0,0,0,0,0]
SAMPLE64_LLAVA = [1,0,0,1,1,1,1]
SAMPLE64_QWEN = [1,0,1,1,1,1,0]
# ==========================================================
SAMPLE65_TURN_TO_IMAGES = [
[1], [1], [1],
[2], [2], [2],
[1,2]
]

SAMPLE65_BLIP2 = [0,0,0,1,0,0,0]
SAMPLE65_LLAVA = [1,1,0,1,1,1,0]
SAMPLE65_QWEN = [1,1,1,1,1,1,0]
# ==========================================================
SAMPLE66_TURN_TO_IMAGES = [
[1,2,4],
[1,3,5],
[2,3,4],
[2,3,5],
[1,3,5],
[2,3,4],
[1,2,5],
[1,4,5],
[2,4,5],
[1,3,5]
]

SAMPLE66_BLIP2 = [0,0,0,0,0,1,0,0,0,1]
SAMPLE66_LLAVA = [0,1,0,0,0,1,1,1,1,1]
SAMPLE66_QWEN = [0,1,0,1,1,1,1,1,0,1]

# ==========================================================
SAMPLE67_TURN_TO_IMAGES = [
[1], [1], [1],
[2], [2],
[1,2], [1,2], [1,2], [1,2], [1,2],
[1,2], [1,2], [1,2], [1,2], [1,2]
]

SAMPLE67_BLIP2 = [0,0,1,1,0,0,0,1,0,0,0,0,0,0,0]
SAMPLE67_LLAVA = [1,0,1,1,1,0,0,1,1,1,0,0,0,1,1]
SAMPLE67_QWEN = [1,1,1,0,1,0,0,1,1,1,1,1,0,1,1]
# ==========================================================
SAMPLE68_TURN_TO_IMAGES = [
[1], [1], [1],
[2], [2],
[1,2], [1,2], [1,2],
[1,2], [1,2], [1,2],
[1,2], [1,2], [1,2], [1,2]
]

SAMPLE68_BLIP2 = [0,0,0,1,0,0,0,1,0,0,0,0,0,0,0]
SAMPLE68_LLAVA = [1,1,1,1,1,0,0,1,0,0,0,0,0,0,0]
SAMPLE68_QWEN = [1,1,1,0,1,0,0,1,1,1,1,0,0,1,1]
# ==========================================================
SAMPLE69_TURN_TO_IMAGES = [
[1,2], [1,2], [1,2], [1,2],
[1,2], [1,2], [1,2], [1,2]
]

SAMPLE69_BLIP2 = [0,0,0,0,0,0,0,0]
SAMPLE69_LLAVA = [1,1,1,1,0,0,0,1]
SAMPLE69_QWEN = [1,0,1,0,1,0,0,1]
# ==========================================================
SAMPLE70_TURN_TO_IMAGES = [
[1],        # 1
[2],        # 2
[2],        # 3
[2],        # 4
[1,2],      # 5
[1,2],      # 6
[1,2],      # 7
[1,2],      # 8
[1,2],      # 9
[1,2],      # 10
[1,2],      # 11
[1,2],      # 12
[1,2],      # 13
[1,2]       # 14
]

SAMPLE70_BLIP2  = [0,0,0,0,0,1,0,0,0,0,0,0,0,0]
SAMPLE70_LLAVA  = [0,1,1,0,0,1,0,0,0,0,0,0,1,0]
SAMPLE70_QWEN   = [1,1,1,1,0,1,0,0,0,0,0,0,1,0]
# ==========================================================
SAMPLE71_TURN_TO_IMAGES = [
[1], [1], [1],
[2], [2], [2],
[1,2], [1,2], [1,2],
[1,2], [1,2], [1,2],
[1,2], [1,2], [1,2]
]

SAMPLE71_BLIP2 = [0,0,0,1,0,0,0,0,0,0,0,0,1,0,0]
SAMPLE71_LLAVA = [0,1,1,1,1,1,1,0,1,0,1,0,1,0,1]
SAMPLE71_QWEN = [1,1,1,1,1,0,0,0,1,0,1,0,1,0,0]
# ==========================================================
SAMPLE72_TURN_TO_IMAGES = [
[1], [1], [1],
[2], [2], [2],
[1,2], [1,2], [1,2], [1,2],
[1,2], [1,2], [1,2], [1,2],
[1,2], [1,2]
]

SAMPLE72_BLIP2 = [0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0]
SAMPLE72_LLAVA = [1,1,1,1,1,1,1,1,0,1,0,0,0,0,1,0]
SAMPLE72_QWEN  = [1,1,1,0,1,0,0,0,1,1,1,0,0,0,0,1]
# ==========================================================
SAMPLE73_TURN_TO_IMAGES = [
[1,2,3,4], [1,2,3,4], [1,2,3,4],
[1,2,3,4], [1,2,3,4],
[1,2,3,4], [1,2,3,4]
]

SAMPLE73_BLIP2 = [0,0,0,0,0,0,0]
SAMPLE73_LLAVA = [0,0,0,0,1,1,1]
SAMPLE73_QWEN = [0,0,0,1,1,1,1]
# ==========================================================
SAMPLE74_TURN_TO_IMAGES = [
[1], [1], [1],
[2], [2], [2],
[3], [3], [3],
[4], [4], [4],
[5], [5], [5],
[1,2,3], [1,3,5], [1,5],
[1,4,5], [2,3,4]
]

SAMPLE74_BLIP2 = [0,1,0,0,1,0,1,0,1,1,0,1,0,0,0,0,0,0,0,0]
SAMPLE74_LLAVA = [1,1,1,0,1,1,1,1,1,1,0,1,1,1,0,0,0,1,1,0]
SAMPLE74_QWEN = [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0]
# ==========================================================
SAMPLE75_TURN_TO_IMAGES = [
[1], [1], [1],
[2], [2], [2],
[1,2], [1,2], [1,2], [1,2], [1,2],
[1,2], [1,2], [1,2], [1,2]
]

SAMPLE75_BLIP2 = [1,0,0,1,1,0,0,0,0,0,0,0,0,1,0]
SAMPLE75_LLAVA = [1,1,1,1,1,1,0,1,0,1,0,1,1,0,1]
SAMPLE75_QWEN = [1,0,1,1,1,1,0,1,0,0,1,1,1,0,1]
# ==========================================================
SAMPLE76_TURN_TO_IMAGES = [
[1],[1],[1],
[2],[2],
[3],[3],[3],
[4],[4],[4],
[1,2,3,4],[2,4],[1,2,3,4],
[1,3],[2,4],[1,2,4],
[2,4],[1,2,3,4],[1,3,4]
]

SAMPLE76_BLIP2 = [1,0,0,0,1,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0]
SAMPLE76_LLAVA = [1,0,0,1,1,0,1,1,0,1,1,0,0,0,0,1,0,0,0,0]
SAMPLE76_QWEN = [1,1,0,1,1,1,1,1,1,1,1,0,0,0,0,1,0,1,0,0]
# ==========================================================
SAMPLE77_TURN_TO_IMAGES = [
[1],[1],[1],
[2],[2],[2],
[3],[3],[3],
[1,2,3],[1,2,3],[1,2,3],[1,2,3],[1,2,3],[1,2,3],[1,2,3]
]

SAMPLE77_BLIP2 = [1,1,1,1,0,1,0,1,1,0,1,0,0,1,1,0]
SAMPLE77_LLAVA = [1,1,1,1,1,1,0,1,0,0,1,0,1,1,1,1]
SAMPLE77_QWEN = [1,1,1,1,1,1,1,1,1,0,1,0,1,1,1,1]
# ==========================================================
SAMPLE78_TURN_TO_IMAGES = [
[1], [1], [1], [2], [2], [2], [1,2], [1], [1,2], [1],
[1,2], [1,2], [1], [1], [1,2], [1], [2], [1,2], [2], [1,2]
]

SAMPLE78_BLIP2 = [0,1,0,1,0,0,0,1,0,0,1,1,1,1,0,0,0,0,0,0]
SAMPLE78_LLAVA = [1,1,1,0,0,0,0,1,0,1,1,1,0,1,0,0,1,1,0,0]
SAMPLE78_QWEN = [1,1,1,1,0,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1]
# ==========================================================
SAMPLE79_TURN_TO_IMAGES = [
[1], [1], [1], [2], [2], [2], [3], [3], [3], [4], [4], [4], [1,2,3,4], [1,3,4], [1,2,4], [2,4], [2,3], [3,4], [1,4], [1,3,4]
]

SAMPLE79_BLIP2 = [0,0,0,1,1,1,0,0,1,1,0,0,0,0,0,0,0,1,0,0]
SAMPLE79_LLAVA = [1,0,1,1,1,1,1,1,1,1,1,0,1,0,0,0,0,1,0,0]
SAMPLE79_QWEN = [1,1,1,0,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,0]
# ==========================================================
SAMPLE80_TURN_TO_IMAGES = [
[1,2,3], [1,2,3], [1,2,3], [1,2,3], [1,2,3], [1,2,3], [1,2,3]
]

SAMPLE80_BLIP2 = [0,0,0,1,0,0,0]
SAMPLE80_LLAVA = [0,1,0,0,1,1,0]
SAMPLE80_QWEN = [1,1,0,1,1,1,1]
# ==========================================================
SAMPLE81_TURN_TO_IMAGES = [
  [1], [1], [1], [2], [3], [3], [3], [4], [4], [4],
  [5], [5], [5], [1,2,5], [3,4], [1,2,4], [2,5], [2,5], [3,4], [1,4]
]

SAMPLE81_BLIP2 = [0,1,1,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0]
SAMPLE81_LLAVA = [1,1,1,1,0,1,1,1,1,1,1,1,1,0,1,0,1,0,1,1]
SAMPLE81_QWEN  = [1,1,1,1,1,1,1,1,1,1,0,1,1,0,1,1,0,1,1,1]
# ==========================================================
SAMPLE82_TURN_TO_IMAGES = [
[2,4],
[3,1],
[1,3,4],
[2,3,4],
[2,3,1],
[2,4],
[3,4],
[1,3]
]

SAMPLE82_BLIP2 = [0,0,0,0,0,0,0,0]
SAMPLE82_LLAVA = [1,0,0,0,0,1,1,0]
SAMPLE82_QWEN = [0,0,0,0,1,0,1,0]
# ==========================================================
SAMPLE83_TURN_TO_IMAGES = [
[1,2,3], [1,2,3], [1,2,3], [1,2,3], [1,2,3], [1,2,3], [1,2,3]
]

SAMPLE83_BLIP2 = [0,0,0,0,0,0,0]
SAMPLE83_LLAVA = [0,1,1,0,0,0,1]
SAMPLE83_QWEN = [0,0,1,1,1,0,1]
# ==========================================================
SAMPLE84_TURN_TO_IMAGES = [
[1,2], [1,2], [1,2], [1,2], [1,2],
[1,2], [1,2], [1,2], [1,2], [1,2]
]

SAMPLE84_BLIP2 = [0,0,0,1,0,0,0,1,0,0]
SAMPLE84_LLAVA = [0,0,1,1,0,0,0,0,1,0]
SAMPLE84_QWEN = [0,1,0,1,1,0,0,1,1,0]
# ==========================================================
SAMPLE85_TURN_TO_IMAGES = [
[1], [1], [1], [2], [2], [2], [3], [3], [3], [4],
[1,2,3,4], [1,3,4], [2,3], [1,2,4], [1,4], [1,2,3], [1,2,3], [1,3]
]

SAMPLE85_BLIP2 = [0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0]
SAMPLE85_LLAVA = [1,0,0,1,1,1,0,1,1,1,0,0,0,0,1,0,0,0]
SAMPLE85_QWEN = [1,1,1,1,1,1,1,1,1,1,0,0,1,0,0,0,0,0]
# ==========================================================
SAMPLE86_TURN_TO_IMAGES = [
[1], [1], [1], [2], [2], [2], [3], [3], [3], [1,2,3], [1,2,3], [1,2,3], [1,2,3], [1,2,3], [1,2,3], [1,2,3], [1,2,3]
]

SAMPLE86_BLIP2 = [1,1,1,0,1,0,1,0,0,0,0,0,0,0,0,0,0]
SAMPLE86_LLAVA = [1,1,1,0,1,1,1,0,1,0,0,0,0,1,0,0,1]
SAMPLE86_QWEN = [1,1,1,1,1,1,1,0,1,0,0,1,1,1,0,1,1]
# ==========================================================
SAMPLE87_TURN_TO_IMAGES = [
[1,2], [1,2,3], [1,2,3], [1,2], [3], [1,2,3]
]

SAMPLE87_BLIP2 = [0,0,0,0,0,0]
SAMPLE87_LLAVA = [1,0,0,0,0,0]
SAMPLE87_QWEN = [1,1,0,0,1,0]
# ==========================================================
SAMPLE88_TURN_TO_IMAGES = [
[1], [1], [1], [2], [2], [2], [3], [3], [3], [4], [4], [4], [5], [5], [5], [3,4], [2,4], [1,5], [3,5], [2,4,5]
]

SAMPLE88_BLIP2 = [1,1,1,0,1,1,1,0,0,1,1,1,1,0,0,0,0,0,1,1]
SAMPLE88_LLAVA = [1,1,1,1,1,1,1,1,1,0,1,1,0,0,0,0,0,0,0,0]
SAMPLE88_QWEN = [1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1]
# ==========================================================
SAMPLE89_TURN_TO_IMAGES = [
[1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2]
]

SAMPLE89_BLIP2 = [0,0,0,1,0,0,0,0]
SAMPLE89_LLAVA = [0,0,0,0,0,0,0,0]
SAMPLE89_QWEN = [0,1,0,0,1,0,0,0]
# ==========================================================
SAMPLE90_TURN_TO_IMAGES = [
[1], [1], [1], [2], [2], [2], [3], [3], [3], [4],
[4], [4], [1,2], [3,4], [2,4], [1,3], [1,3], [2,4], [1,2], [3,4]
]

SAMPLE90_BLIP2 = [0,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,1]
SAMPLE90_LLAVA = [0,1,1,1,1,1,0,0,1,1,1,1,0,0,0,1,1,0,0,1]
SAMPLE90_QWEN = [0,1,1,1,1,1,1,1,1,1,1,1,0,1,0,0,0,0,1,1]
# ==========================================================
SAMPLE91_TURN_TO_IMAGES = [
[1], [1], [1], [2], [2], [2], [3], [3], [3], [4], [4], [4], [1,2,3,4], [1,2,3,4], [2,3,4], [1,4], [2,4], [2,3,4], [3,4]
]

SAMPLE91_BLIP2 = [1,0,1,0,0,0,1,1,0,0,0,1,0,0,0,0,0,0,0]
SAMPLE91_LLAVA = [1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1]
SAMPLE91_QWEN = [1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1]
# ==========================================================
SAMPLE92_TURN_TO_IMAGES = [
[1], [1], [1], [2], [2], [2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2]
]

SAMPLE92_BLIP2 = [0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0]
SAMPLE92_LLAVA = [0,1,0,1,1,1,0,1,1,1,1,1,1,1,1,1]
SAMPLE92_QWEN = [1,1,1,1,1,1,1,1,1,0,1,0,1,1,1,0]
# ==========================================================
SAMPLE93_TURN_TO_IMAGES = [
[1], [1], [1], [2], [2], [2], [1,2], [1,2], [1,2], [1,2],
[1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2]
]

SAMPLE93_BLIP2 = [1,1,1,1,0,0,0,0,1,0,0,0,0,0,0,0,1,1,0]
SAMPLE93_LLAVA = [1,1,1,1,1,1,1,1,1,1,0,1,1,1,0,1,1,1,1]
SAMPLE93_QWEN = [1,1,1,1,1,1,0,1,1,0,1,1,1,1,0,1,1,1,0]
# ==========================================================
SAMPLE94_TURN_TO_IMAGES = [
  [1], [1], [1], [2], [2],
  [1,2], [1,2], [1,2], [1,2], [1,2],
  [1,2], [1,2], [1,2], [1,2], [1,2]
]

SAMPLE94_BLIP2 = [1,0,0,1,0,0,1,0,1,0,0,0,0,0,0]
SAMPLE94_LLAVA = [1,0,1,1,1,0,1,0,1,0,1,1,0,0,1]
SAMPLE94_QWEN  = [1,0,1,1,1,0,0,0,1,1,1,0,1,0,1]
# ==========================================================
SAMPLE95_TURN_TO_IMAGES = [
[1], [1], [1], [2], [2], [2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2]
]

SAMPLE95_BLIP2 = [1,0,0,0,0,0,0,1,0,0,0,0,1,0,0]
SAMPLE95_LLAVA = [1,0,1,1,1,1,1,1,0,1,1,1,1,1,1]
SAMPLE95_QWEN = [1,1,1,1,1,1,1,1,0,0,1,0,1,1,1]

# ==========================================================
SAMPLE96_TURN_TO_IMAGES = [
[1], [1], [1], [2], [2], [2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2]
]

SAMPLE96_BLIP2 = [0,0,1,0,0,1,0,0,0,0,1,1,0,0,0,0]
SAMPLE96_LLAVA = [0,0,1,0,0,1,0,1,0,0,1,1,0,0,0,1]
SAMPLE96_QWEN = [1,0,1,1,1,1,0,0,1,1,1,1,0,0,0,1]
# ==========================================================
SAMPLE97_TURN_TO_IMAGES = [
[1], [1], [1], [2], [2], [2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2], [1,2]
]

SAMPLE97_BLIP2 = [1,0,0,0,0,1,0,0,1,0,1,0,0,0,0,0]
SAMPLE97_LLAVA = [1,1,0,1,1,1,1,1,1,0,1,1,1,0,0,0]
SAMPLE97_QWEN = [1,1,1,1,1,1,1,1,0,0,1,0,1,0,0,0]
# ==========================================================
SAMPLE98_TURN_TO_IMAGES = [
[1], [1], [1], [2], [2], [2],
[1,2], [1,2], [1,2], [1,2], [1,2],
[1,2], [1,2], [1,2], [1,2]
]

SAMPLE98_BLIP2 = [0,0,0,0,0,0,0,1,0,0,1,1,0,0,0]
SAMPLE98_LLAVA = [1,1,0,1,0,0,0,0,0,0,1,1,0,0,1]
SAMPLE98_QWEN = [0,1,0,1,0,1,0,0,0,0,1,1,1,1,0]
# ==========================================================
SAMPLE99_TURN_TO_IMAGES = [
    [1], [1], [1], [2], [2], [2],
    [3], [3], [3],
    [1,2,3], [1,2,3], [1,2,3], [1,2,3], [1,2,3],
    [1,2,3], [1,2,3], [1,2,3], [1,2,3], [1,2,3]
]

SAMPLE99_BLIP2 = [1,0,0,1,1,0,1,1,1,0,0,0,0,0,0,0,0,0,0]
SAMPLE99_LLAVA = [1,1,1,1,1,1,1,1,1,0,1,0,0,1,0,0,1,1,0]
SAMPLE99_QWEN  = [1,1,1,1,1,1,1,1,1,0,1,0,0,1,1,0,0,1,0]
# ==========================================================
SAMPLE100_TURN_TO_IMAGES = [
[1,2,3,4,5,6,7], # Q1
[1,2,3,4,5,6,7], # Q2
[1,2,3,4,5,6,7], # Q3
[1,2,3,4], # Q4
[1,2,3,4,5,6,7], # Q5
[1,2,3,4,5,6,7], # Q6
[1,2,3,4,5,6,7], # Q7
[1,2,3,4], # Q8
[1,2,8], # Q9
[2,3,5], # Q10
[6,9], # Q11
[6,9], # Q12
[3,5], # Q13
[2,3,5], # Q14
[6,9], # Q15
[1,3,4,5,9], # Q16
[1,3,4,5,9], # Q17
[1,3,4,5,9], # Q18
[1,3,4,5,9], # Q19
[1,3,4,5,9] # Q20
]

SAMPLE100_BLIP2 = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
SAMPLE100_LLAVA = [0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1]
SAMPLE100_QWEN = [0,1,0,1,1,1,1,1,1,1,0,1,1,1,0,0,0,0,1,0]

# ==========================================================
# unchanged
SAMPLE101_TURN_TO_IMAGES = [
    [6,7,2,8,3,5,9],        # Q1
    [1,2,3,4,5,6,7,8,9],    # Q2
    [1,2,3,4,5,6,7,8,9],    # Q3
    [7,10,8,3,4,11,9],      # Q4
    [7,4],                  # Q5
    [10,11],                # Q6
    [8,9],                  # Q7
    [3,9],                  # Q8
    [8,11],                 # Q9
    [1,2,3,4,5,6,7,8,9,10,11] # Q10
]

SAMPLE101_BLIP2 = [0,0,0,0,0,0,0,0,0,0]

# UPDATED (Q4 changed to 0)
SAMPLE101_LLAVA = [1,1,1,0,1,1,1,1,0,1]

# UPDATED (Q4 changed to 0)
SAMPLE101_QWEN  = [1,1,1,0,0,1,1,1,1,1]

# ==========================================================
SAMPLE102_TURN_TO_IMAGES = [
[9,2,3,6,7,8,5],  # Q1
[9,5],            # Q2
[2,3,6,7,8],      # Q3
[5],              # Q4
[1,3,7,8,5],      # Q5
[1,3,7,8],        # Q6
[1,3,7,8,5],      # Q7
[1,9,5],          # Q8
[3,6,7],          # Q9
[3,6,7,8],        # Q10
[1,9,5]           # Q11
]

SAMPLE102_BLIP2 = [0,0,0,0,0,0,0,0,1,1,1]
SAMPLE102_LLAVA = [0,0,1,1,0,0,0,1,1,1,1]
SAMPLE102_QWEN  = [1,0,0,1,0,0,0,0,1,1,0]
# ==========================================================
SAMPLE103_TURN_TO_IMAGES = [
[1,2,3,4,5],
[6,1],
[2],
[3],
[7,8,9,10],
[8,2,3,9,5],
[2,9],
[3,5],
[6,7,3,9],
[6,7,3,9],
[6,7,3,9],
[7,9,10],
[6,7,3,9],
[6,7,3,9],
[6,7,3,10],
[7,10],
[3,9],
[6,3,9],
[6,7,2,3,10],
[7,8,9,10]
]

SAMPLE103_BLIP2 = [0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0]
SAMPLE103_LLAVA = [0,0,1,1,1,0,1,0,0,0,0,0,0,0,0,0,1,1,0,1]
SAMPLE103_QWEN = [0,0,1,1,1,0,1,1,0,1,0,1,0,0,0,0,1,0,0,1]
# ==========================================================
SAMPLE104_TURN_TO_IMAGES = [
[1,2,3,4,5,6,7],
[2,7],
[1,6],
[3,4],
[5,1,3,4,6,7],
[10,5,8],
[10,5,8,6],
[3,5,6],
[5],
[4],
[10,5,8,6],
[11,10,5,6,8,9]
]

SAMPLE104_BLIP2 = [0,0,0,0,0,0,1,0,1,0,0,0]
SAMPLE104_LLAVA = [1,0,1,0,0,1,0,0,1,1,0,0]
SAMPLE104_QWEN = [1,1,0,0,0,1,0,0,1,0,1,0]
# ==========================================================
SAMPLE105_TURN_TO_IMAGES = [
[1,2,3,4,5,6], # T1
[2,7,9,10], # T2
[6,11], # T3
[2,8], # T4
[6,7,10], # T5
[2,11], # T6
[4,7], # T7
[3,7,8,11], # T8
[1,8], # T9
[1,3,6,11], # T10
[1,4,11], # T11
[4] # T12
]

SAMPLE105_BLIP2 = [0,1,0,1,0,0,0,0,0,0,0,0]
SAMPLE105_LLAVA = [1,1,0,1,0,1,0,0,1,0,0,1]
SAMPLE105_QWEN = [1,1,0,1,0,1,0,0,1,0,0,1]
# ==========================================================
SAMPLE106_TURN_TO_IMAGES = [
    [1,7,8,9,10],
    [8,9],
    [8,10],
    [7],
    [8,9],
    [1,10],
    [8],
    [8,10],
    [8,9],
    [7,8,9,10],
    [1,6,7,9,10]
]

SAMPLE106_BLIP2 = [0,1,0,1,1,0,1,0,1,1,0]
SAMPLE106_LLAVA = [1,0,0,1,0,1,1,0,1,1,0]
SAMPLE106_QWEN  = [1,1,1,1,1,0,1,0,1,1,1]
# ==========================================================
SAMPLE107_TURN_TO_IMAGES = [
    [1,2,3,4,5],      # Q1
    [1,6,7,8],        # Q2
    [1,7,8],          # Q3
    [6,7],            # Q4
    [4,9],            # Q5
    [1,7,8],          # Q6
    [8,9],            # Q7
    [5,6],            # Q8
    [5,7],            # Q9
    [1,3,5,6,10],     # Q10
    [2,3,4,5,8,9,11]  # Q11
]

SAMPLE107_BLIP2 = [0,0,0,0,1,0,0,0,0,0,0]
SAMPLE107_LLAVA = [0,0,0,0,1,1,1,1,0,0,0]
SAMPLE107_QWEN  = [0,0,0,0,1,1,1,1,0,0,0]
# ==========================================================
SAMPLE108_TURN_TO_IMAGES = [
    [2,8,4],        # 1
    [2,8,4],        # 2
    [1,2,7,3,4,5,9],# 3
    [1,2,7,3,4,5,9],# 4
    [1,6,7,8,4,10,5],# 5
    [1,6,7,8,4,10,5],# 6
    [1,6,7,8,4,10,5],# 7
    [1,6,7,8,4,10,5],# 8
    [6,8],          # 9
    [5,1,7,8],      # 10
    [4,10],         # 11
    [1,6,7,8,4,10,5],# 12
    [11,12,14],     # 13
    [2,4,13],       # 14
    [2,15,8,3],     # 15
    [16,9],         # 16
    [1,17,3,18]     # 17
]

SAMPLE108_BLIP2 = [0,0,0,1,0,0,0,0,1,0,1,0,0,0,0,0,0]
SAMPLE108_LLAVA = [1,0,0,1,0,0,1,0,1,0,1,0,0,0,0,1,0]
SAMPLE108_QWEN  = [1,0,0,0,0,1,0,1,1,0,1,0,0,0,0,1,0]
# ==========================================================
SAMPLE109_TURN_TO_IMAGES = [
  [1,2,3],
  [2,6,10],
  [5,6],
  [1,4,10],
  [5,11],
  [1,4,5,10],
  [11,13],
  [4,11],
  [10,12],
  [1,13],
  [5,11,12],
  [1,2,3,4,5,6,7,8,9,10,11,12,13],
  [1,4,5,11],
  [3,5,8,9,10,14,15],
  [3,5,8,9,10,14,15],
  [7,10,11,12,14,16],
  [5,17],
  [18],
  [1,10,11,12,13,19,20]
]

SAMPLE109_BLIP2 = [0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0]
SAMPLE109_LLAVA = [0,0,0,0,1,1,0,1,0,0,0,1,1,0,1,0,0,1,0]
SAMPLE109_QWEN  = [0,0,0,0,0,0,1,1,1,0,0,1,1,0,0,1,0,1,0]

# ========= 粘贴区结束 =========

import argparse, os, re, json
import pandas as pd

MODEL_KEYS = ("BLIP2", "LLAVA", "QWEN")  # 支持的模型键
MODEL_NORM = { "BLIP2":"blip2", "LLAVA":"llava", "QWEN":"qwen" }

def _collect_samples_from_globals(glb: dict):
    """
    扫描全局变量，自动收集 SAMPLE{sid}_TURN_TO_IMAGES / _BLIP2 / _LLAVA / _QWEN
    返回：samples: dict[sid] = {
        "TURN_TO_IMAGES": list[list[int]],
        "BLIP2": list[int] | None,
        "LLAVA": list[int] | None,
        "QWEN":  list[int] | None,
    }
    """
    pat = re.compile(r"^SAMPLE(\d+)_(TURN_TO_IMAGES|BLIP2|LLAVA|QWEN)$", re.I)
    tmp = {}
    for name, val in glb.items():
        if not isinstance(name, str): 
            continue
        m = pat.match(name)
        if not m:
            continue
        sid = int(m.group(1))
        key = m.group(2).upper()
        pack = tmp.setdefault(sid, {"TURN_TO_IMAGES": None, "BLIP2": None, "LLAVA": None, "QWEN": None})
        pack[key] = val
    # 过滤至少有 TURN_TO_IMAGES 且至少一个模型序列
    samples = {}
    for sid, pack in tmp.items():
        if pack["TURN_TO_IMAGES"] is None:
            continue
        # 检查是否至少一个模型有序列
        if any(pack[k] is not None for k in MODEL_KEYS):
            samples[sid] = pack
    return samples

def _first_mentions(turn_to_images):
    first_turn = {}
    for t, imgs in enumerate(turn_to_images, start=1):
        for i in imgs:
            if i not in first_turn:
                first_turn[i] = t
    return first_turn

def _revisit_k(turn_to_images):
    seen = {}
    k_at = {}
    for t, imgs in enumerate(turn_to_images, start=1):
        for i in imgs:
            k_at[(t, i)] = seen.get(i, 0)  # 首次出现 k=0
            seen[i] = seen.get(i, 0) + 1
    return k_at

def _build_events_for_sample(sid, turn_to_images, ok_by_model):
    """
    生成 per-image 事件行：
      sample_id, turn, images(json), model, ok(0/1), image_id, t0_i, delta, k, tau
    """
    rows = []
    T = len(turn_to_images)
    t0 = _first_mentions(turn_to_images)
    kmap = _revisit_k(turn_to_images)
    for m_src, ok_seq in ok_by_model.items():
        model = MODEL_NORM[m_src]
        if ok_seq is None:
            continue
        if len(ok_seq) != T:
            raise ValueError(f"SAMPLE{sid} {m_src}: OK 序列长度({len(ok_seq)}) != 回合数({T})")
        for t in range(1, T+1):
            imgs = turn_to_images[t-1]
            ok = int(ok_seq[t-1])
            tau = t / T
            for i in imgs:
                t0_i = t0.get(i, t)
                delta = t - t0_i
                k = kmap[(t, i)]
                rows.append(dict(
                    sample_id=sid,
                    turn=t,
                    images=json.dumps(imgs, ensure_ascii=False),
                    model=model,
                    ok=ok,
                    image_id=i,
                    t0_i=t0_i,
                    delta=delta,
                    k=k,
                    tau=tau
                ))
    return rows

def main():
    ap = argparse.ArgumentParser()
    ap.add_argument("--out-dir", default="stats_from_arrays", help="输出目录")
    args = ap.parse_args()
    os.makedirs(args.out_dir, exist_ok=True)

    samples = _collect_samples_from_globals(globals())
    if not samples:
        print("未在全局变量中发现任何 SAMPLE{i}_TURN_TO_IMAGES / *_BLIP2 / *_LLAVA / *_QWEN。请把它们粘到脚本顶部。")
        return

    all_rows = []
    for sid, pack in sorted(samples.items()):
        tti = pack["TURN_TO_IMAGES"]
        ok_by_model = {k: pack.get(k) for k in MODEL_KEYS}
        all_rows += _build_events_for_sample(sid, tti, ok_by_model)

    df = pd.DataFrame(all_rows)
    # 1) 总事件（per-turn；可能重复 turn+model+sample 的多图，我们保留每回合唯一行供参考）
    events = df[["sample_id","turn","images","model","ok"]].drop_duplicates()
    events.to_csv(os.path.join(args.out_dir, "events.tsv"), sep="\t", index=False)

    # 2) B2: Δ
    stats_delta = df[["model","sample_id","image_id","turn","delta","ok"]].sort_values(
        ["model","sample_id","image_id","turn"]
    )
    stats_delta.to_csv(os.path.join(args.out_dir, "stats_Δ.tsv"), sep="\t", index=False)

    # 3) D: k
    stats_k = df[["model","sample_id","image_id","turn","k","ok"]].sort_values(
        ["model","sample_id","image_id","turn"]
    )
    stats_k.to_csv(os.path.join(args.out_dir, "stats_k.tsv"), sep="\t", index=False)

    # 4) B1: τ
    stats_tau = df[["model","sample_id","image_id","turn","tau","ok"]].sort_values(
        ["model","sample_id","image_id","turn"]
    )
    stats_tau.to_csv(os.path.join(args.out_dir, "stats_τ.tsv"), sep="\t", index=False)

    print("✅ 输出完成：")
    print("  -", os.path.join(args.out_dir, "events.tsv"))
    print("  -", os.path.join(args.out_dir, "stats_Δ.tsv"))
    print("  -", os.path.join(args.out_dir, "stats_k.tsv"))
    print("  -", os.path.join(args.out_dir, "stats_τ.tsv"))

if __name__ == "__main__":
    main()
